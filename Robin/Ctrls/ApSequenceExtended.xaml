<UserControl x:Class="Robin.Ctrls.ApSequenceExtended"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Robin.Ctrls"
             xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
             xmlns:ctrl="clr-namespace:Robin.Ctrls"
             xmlns:xceed="http://schemas.xceed.com/wpf/xaml/toolkit"
             mc:Ignorable="d" Name="self"
             d:DesignHeight="450" d:DesignWidth="800">
    <DockPanel>
        <TabControl>
            <TabControl.Resources>
                <Style TargetType="Button"/>
                <CollectionViewSource x:Key="cvs" Source="{Binding DataExportConfigs, Mode=OneWay}">
                    <CollectionViewSource.GroupDescriptions>
                        <PropertyGroupDescription PropertyName="SignalPath"/>
                        <PropertyGroupDescription PropertyName="Measurement"/>
                    </CollectionViewSource.GroupDescriptions>
                </CollectionViewSource>
                <GroupStyle x:Key="groupstyle">
                    <GroupStyle.ContainerStyle>
                        <Style TargetType="{x:Type GroupItem}">
                            <Setter Property="Margin" Value="0,0,0,5"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="{x:Type GroupItem}">
                                        <Expander IsExpanded="True" Background="#FF112255" BorderBrush="#FF002255" BorderThickness="1,1,1,1">
                                            <Expander.Header>
                                                <DockPanel>
                                                    <TextBlock FontWeight="Bold" Text="{Binding Path=Name}" Margin="5,0,0,0" HorizontalAlignment="Left"/>
                                                </DockPanel>
                                            </Expander.Header>
                                            <Expander.Content>
                                                <ItemsPresenter />
                                            </Expander.Content>
                                        </Expander>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </GroupStyle.ContainerStyle>
                </GroupStyle>
            </TabControl.Resources>
            <TabItem Header="Test Config">
                <StackPanel>
                    <StackPanel.Resources>
                        <Style TargetType="Label">
                            <Setter Property="Width" Value="80"/>
                        </Style>
                    </StackPanel.Resources>
                    <GroupBox Header="Hardware">
                        <UniformGrid Columns="2">
                            <DockPanel>
                                <Label>HW Type</Label>
                                <ComboBox ItemsSource="{x:Static local:ApSequenceExtended.AuxOut_Names}" SelectedItem="{Binding ElementName=self, Path=DataContext.AuxOut}"></ComboBox>
                            </DockPanel>
                        </UniformGrid>
                    </GroupBox>
                    <GroupBox Header="Config">
                        <UniformGrid Columns="2">
                            <DockPanel>
                                <Label>dBrG</Label>
                                <ComboBox IsEditable="True" ItemsSource="{x:Static local:ApSequenceExtended.dBrG_Names}" SelectedItem="{Binding ElementName=self, Path=DataContext.dBrG}"
                                          mah:TextBoxHelper.Watermark="Select one item, or Input Your Value"></ComboBox>
                            </DockPanel>
                            <DockPanel>
                                <Label>SenseR</Label>
                                <ComboBox IsEditable="True" ItemsSource="{x:Static local:ApSequenceExtended.SenseR_Names}" SelectedItem="{Binding ElementName=self, Path=DataContext.SenseR}"
                                          mah:TextBoxHelper.Watermark="Select one item, or Input Your Value"></ComboBox>
                            </DockPanel>
                            <DockPanel>
                                <Label>Mic Cal</Label>
                                <ComboBox ItemsSource="{x:Static local:ApSequenceExtended.MicCal_Names}" SelectedItem="{Binding ElementName=self, Path=DataContext.MicCal}"></ComboBox>
                            </DockPanel>


                            <DockPanel>
                                <Label>Output EQ</Label>
                                <ComboBox ItemsSource="{x:Static local:ApSequenceExtended.OutputEq_Names}" SelectedItem="{Binding ElementName=self, Path=DataContext.OutputEq}"></ComboBox>
                            </DockPanel>

                            <DockPanel>
                                <Label></Label>
                                <CheckBox Margin="2" IsChecked="{Binding EnableReport}">Enable Report</CheckBox>
                            </DockPanel>
                            <DockPanel IsEnabled="False">
                                <Label></Label>
                                <CheckBox Margin="2" IsChecked="{Binding EnableDataOutput}">Enable Data Output</CheckBox>
                            </DockPanel>
                        
                        </UniformGrid>
                    </GroupBox>
                </StackPanel>
            </TabItem>
            <TabItem Header="Data Export (SpecSheet)">
                <DockPanel>
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Right">
                        
                    </DockPanel>
                    <DataGrid ItemsSource="{Binding Source={StaticResource cvs}}" AutoGenerateColumns="False" CanUserAddRows="False">
                        <DataGrid.GroupStyle>
                            <GroupStyle>
                                <GroupStyle.ContainerStyle>
                                    <Style TargetType="{x:Type GroupItem}">
                                        <Setter Property="Margin" Value="0,0,0,5"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type GroupItem}">
                                                    <Expander IsExpanded="True" Background="#FF112255" BorderBrush="#FF002255" BorderThickness="1,1,1,1">
                                                        <Expander.Header>
                                                            <DockPanel>
                                                                <TextBlock FontWeight="Bold" Text="{Binding Path=Name}" Margin="5,0,0,0" HorizontalAlignment="Left"/>
                                                                <!--<TextBlock FontWeight="Bold" Text="{Binding Path=ItemCount}"/>-->
                                                            </DockPanel>
                                                        </Expander.Header>
                                                        <Expander.Content>
                                                            <ItemsPresenter />
                                                        </Expander.Content>
                                                    </Expander>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </GroupStyle.ContainerStyle>
                            </GroupStyle>
                        </DataGrid.GroupStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Result" Binding="{Binding Result, Mode=OneWay}" IsReadOnly="True"></DataGridTextColumn>
                            <DataGridComboBoxColumn Header="Specification" ItemsSource="{x:Static local:ApSequenceExtended.DataExportSpec_Names}" SelectedItemBinding="{Binding ExportDataSpec_SpecSheet}" ></DataGridComboBoxColumn>
                            <DataGridTemplateColumn Header="Channels">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <xceed:CheckComboBox Height="16" ItemsSource="{x:Static local:ApSequenceExtended.ChannelNames}" SelectedItemsOverride="{Binding Channels_SpecSheet}" IsSelectAllActive="True" AllItemsSelectedContent="All" BorderThickness="1">
                                        </xceed:CheckComboBox>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </TabItem>
            <TabItem Header="Data Export (Database)">
                <DockPanel>
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Right">

                    </DockPanel>
                    <DataGrid ItemsSource="{Binding Source={StaticResource cvs}}" AutoGenerateColumns="False" CanUserAddRows="False">
                        <DataGrid.GroupStyle>
                            <GroupStyle>
                                <GroupStyle.ContainerStyle>
                                    <Style TargetType="{x:Type GroupItem}">
                                        <Setter Property="Margin" Value="0,0,0,5"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type GroupItem}">
                                                    <Expander IsExpanded="True" Background="#FF112255" BorderBrush="#FF002255" BorderThickness="1,1,1,1">
                                                        <Expander.Header>
                                                            <DockPanel>
                                                                <TextBlock FontWeight="Bold" Text="{Binding Path=Name}" Margin="5,0,0,0" HorizontalAlignment="Left"/>
                                                                <!--<TextBlock FontWeight="Bold" Text="{Binding Path=ItemCount}"/>-->
                                                            </DockPanel>
                                                        </Expander.Header>
                                                        <Expander.Content>
                                                            <ItemsPresenter />
                                                        </Expander.Content>
                                                    </Expander>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </GroupStyle.ContainerStyle>
                            </GroupStyle>
                        </DataGrid.GroupStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Result" Binding="{Binding Result, Mode=OneWay}" IsReadOnly="True"></DataGridTextColumn>
                            <DataGridComboBoxColumn Header="Specification" ItemsSource="{x:Static local:ApSequenceExtended.DataExportSpec_Names}" SelectedItemBinding="{Binding ExportDataSpec_Database}" ></DataGridComboBoxColumn>
                            <DataGridTemplateColumn Header="Channels">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <xceed:CheckComboBox Height="16" ItemsSource="{x:Static local:ApSequenceExtended.ChannelNames}" SelectedItemsOverride="{Binding Channels_Database}" IsSelectAllActive="True" AllItemsSelectedContent="All" BorderThickness="1">
                                        </xceed:CheckComboBox>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </TabItem>
            <TabItem Header="Data Export (VACS)">
                <DockPanel>
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Right">

                    </DockPanel>
                    <DataGrid ItemsSource="{Binding Source={StaticResource cvs}}" AutoGenerateColumns="False" CanUserAddRows="False">
                        <DataGrid.GroupStyle>
                            <GroupStyle>
                                <GroupStyle.ContainerStyle>
                                    <Style TargetType="{x:Type GroupItem}">
                                        <Setter Property="Margin" Value="0,0,0,5"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type GroupItem}">
                                                    <Expander IsExpanded="True" Background="#FF112255" BorderBrush="#FF002255" BorderThickness="1,1,1,1">
                                                        <Expander.Header>
                                                            <DockPanel>
                                                                <TextBlock FontWeight="Bold" Text="{Binding Path=Name}" Margin="5,0,0,0" HorizontalAlignment="Left"/>
                                                                <!--<TextBlock FontWeight="Bold" Text="{Binding Path=ItemCount}"/>-->
                                                            </DockPanel>
                                                        </Expander.Header>
                                                        <Expander.Content>
                                                            <ItemsPresenter />
                                                        </Expander.Content>
                                                    </Expander>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </GroupStyle.ContainerStyle>
                            </GroupStyle>
                        </DataGrid.GroupStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Result" Binding="{Binding Result, Mode=OneWay}" IsReadOnly="True"></DataGridTextColumn>
                            <DataGridComboBoxColumn Header="Specification" ItemsSource="{x:Static local:ApSequenceExtended.DataExportSpec_Names}" SelectedItemBinding="{Binding ExportDataSpec_Vacs}"></DataGridComboBoxColumn>
                            <DataGridTemplateColumn Header="Channels">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <xceed:CheckComboBox Height="16" ItemsSource="{x:Static local:ApSequenceExtended.ChannelNames}" SelectedItemsOverride="{Binding Channels_Vacs}" IsSelectAllActive="True" AllItemsSelectedContent="All" BorderThickness="1">
                                        </xceed:CheckComboBox>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridCheckBoxColumn Header="Cartesian" Binding="{Binding ExportAsVacsCartesian}">
                                
                            </DataGridCheckBoxColumn>
                            <DataGridCheckBoxColumn Header="Contour" Binding="{Binding ExportAsVacsContour}">

                            </DataGridCheckBoxColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </TabItem>
        </TabControl>
    </DockPanel>
</UserControl>
