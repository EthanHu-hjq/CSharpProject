<Window x:Class="ToucanCore.Driver.Modbus_Debugger"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ToucanCore.Driver"
             mc:Ignorable="d" Title="Modbus Debugger" x:Name="self"
             d:DesignHeight="450" d:DesignWidth="800">
    <DockPanel>
        <GroupBox Header="Resource" DockPanel.Dock="Top">
            <DockPanel>
                <Button DockPanel.Dock="Right" Click="btn_Open_Click" Name="btn_Open">Open</Button>
                <ComboBox ItemsSource="{x:Static local:Mitsubishi_FX_Debugger.Ports}" Text="{Binding ElementName=self, Path=Resource}" IsEditable="True"></ComboBox>

            </DockPanel>
        </GroupBox>
        <GroupBox Header="Command">
            <DockPanel>
                <GroupBox Header="Send" DockPanel.Dock="Top">
                    <DockPanel>
                        <!--<DockPanel DockPanel.Dock="Bottom" Margin="2">
                            <Label>Data Frame</Label>
                            <TextBox Text="{Binding ElementName=self,Path=SendData}" ToolTip="([SCTDMYX]{1})(\\d+)"></TextBox>
                        </DockPanel>-->

                        <DockPanel Margin="2">
                            <Button DockPanel.Dock="Right" Click="btn_Send_Click">Send</Button>
                            <Label>Type</Label>
                            <ComboBox Width="150" ItemsSource="{x:Static local:Modbus_Debugger.Types}" SelectedItem="{Binding ElementName=self, Path=CommandType}"></ComboBox>
                            <Label>Slave Addr</Label>
                            <TextBox Width="40" Text="{Binding ElementName=self,Path=SlaveAddr,StringFormat='{}{0:X02}'}"></TextBox>
                            <Label>Start Addr</Label>
                            <TextBox Width="60" Text="{Binding ElementName=self,Path=StartAddrStr}" ToolTip="With 0x Hex. Without, Dec"></TextBox>
                            <Label>Read Length</Label>
                            <TextBox Width="60" Text="{Binding ElementName=self, Path=RegisterCount}"></TextBox>
                            <Label>Write Data</Label>
                            <TextBox Text="{Binding ElementName=self, Path=WriteData}" ToolTip="Hex, with no 0x, delimiter with space"></TextBox>
                        </DockPanel>

                    </DockPanel>
                </GroupBox>
                <GroupBox Header="Log">
                    <ScrollViewer>
                        <TextBox IsReadOnly="True" Text="{Binding ElementName=self,Path=LogData}" VerticalScrollBarVisibility="Auto">
                        </TextBox>
                    </ScrollViewer>
                </GroupBox>
            </DockPanel>
        </GroupBox>
    </DockPanel>
</Window>
